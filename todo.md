# TODO

## 经验值系统（后期考虑）

将好感度等级量化为经验值，提供更细粒度的好感度变化。

### 设计思路

- 每个好感度等级对应一个经验值区间（如等级 1 = 0~99 XP，等级 2 = 100~299 XP）
- 新增 `fav_add_xp` 工具：给用户增加/减少经验值，自动计算等级变化
- 数据库 `users` 表新增 `xp INTEGER DEFAULT 0` 字段
- 等级升降时触发层级变化提示

### 新增工具

| 工具名 | 参数 | 说明 |
|--------|------|------|
| `fav_add_xp` | `user_id(string)`, `delta(number)` | 增减经验值，自动更新等级 |
| `fav_query_xp` | `identifier(string)` | 查询用户经验值和距下一级所需经验 |

### 配置扩展

在 `_conf_schema.json` 中为每个层级增加 `xp_threshold` 字段，定义进入该层级所需的最低经验值。

---

## 其他待考虑功能

- [ ] 好感度变化历史记录（log 表）
- [ ] 批量查询所有用户好感度排行
- [ ] 好感度衰减机制（长时间不互动自动降低）
